<UserControl
    x:Class="FalcaPOS.Sales.Views.SalesView"
    xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
    xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
    xmlns:behavior="clr-namespace:FalcaPOS.Common.Behaviors;assembly=FalcaPOS.Common"
    xmlns:d="http://xamarin.com/schemas/2014/forms/design"
    xmlns:converter="clr-namespace:FalcaPOS.Common.Converters;assembly=FalcaPOS.Common"
    xmlns:i="http://schemas.microsoft.com/expression/2010/interactivity"
    xmlns:local="clr-namespace:FalcaPOS.Sales.Views"
    xmlns:materialDesign="http://materialdesigninxaml.net/winfx/xaml/themes"
    xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
 
    xmlns:prism="http://prismlibrary.com/"
    prism:ViewModelLocator.AutoWireViewModel="True">
    <UserControl.Resources>
        <BooleanToVisibilityConverter x:Key="BooleanToVisibilityConverter" />
        <converter:InverseBooleanConverter x:Key="InverseBooleanConverter"/>
        <converter:StringToShortDateConverter x:Key="shortdateconverter" />
        <converter:RadioButtonConverter x:Key="RadioButtonConverter"/>
        <Style x:Key="IconMargin" TargetType="materialDesign:PackIcon">
            
            <!--<Setter Property="Margin" Value="0,20,5,0" />
            <Setter Property="Foreground" Value="{DynamicResource MahApps.Brushes.Badged.Background}"></Setter>-->
            <Setter Property="Width" Value="22"/>
            <Setter Property="Height" Value="22"/>
            <Setter Property="Margin" Value="0 0 0 0"/>
        </Style>
        <Style x:Key="PriceMargin" TargetType="StackPanel">
            <Setter Property="Margin" Value="0,10,0,0" />
            <Setter Property="VerticalAlignment" Value="Center"/>
            <Setter Property="Orientation" Value="Horizontal"/>
        </Style>

        <Style x:Key="txtblockstyle" TargetType="TextBlock">
            <Setter Property="FontFamily" Value="{DynamicResource Poppins}"/>
            <Setter Property="FontWeight" Value="Medium"/>
            <Setter Property="FontSize" Value="15"/>
        </Style>
        <Style x:Key="txtheaderblockstyle" TargetType="TextBlock">
            <Setter Property="FontFamily" Value="{DynamicResource Poppins}"/>
            <Setter Property="FontWeight" Value="Regular"/>
            <Setter Property="FontSize" Value="14"/>
            <Setter Property="Foreground" Value="Gray"/>
        </Style>
        <DataTemplate x:Key="SalesProductTemplate">
            <Grid Margin="0 10 0 0" Background="#F5F5F5">
                <Grid.ColumnDefinitions>
                    <ColumnDefinition Width="2*"></ColumnDefinition>
                    <ColumnDefinition Width="2*"></ColumnDefinition>
                    <ColumnDefinition Width="2*"></ColumnDefinition>
                    <ColumnDefinition Width="2*"></ColumnDefinition>
                    <ColumnDefinition Width="1*"></ColumnDefinition>
                    <ColumnDefinition Width="30"></ColumnDefinition>
                </Grid.ColumnDefinitions>
                <Grid.RowDefinitions>
                    <RowDefinition Height="70"></RowDefinition>
                    <RowDefinition Height="70"></RowDefinition>
                </Grid.RowDefinitions>

                
                 <StackPanel Grid.Column="0" Margin="20 0 0 0" Orientation="Horizontal" HorizontalAlignment="Left" VerticalAlignment="Center">
                    <StackPanel>
                        <TextBlock Text="SKU" Style="{StaticResource txtheaderblockstyle}"></TextBlock>
                        <TextBlock Style="{StaticResource txtblockstyle}"
                                             
                                            HorizontalAlignment="Center"
                                   AutomationProperties.AutomationId="txtSKUId"
                                            Text="{Binding SKU,Mode=TwoWay,UpdateSourceTrigger=PropertyChanged}" />
                    </StackPanel>
                   
                    <TextBlock Foreground="Green" Margin="15 25 0 0" >  
                        <Run Text="("></Run>
                        <Run FontSize="14" Style="{DynamicResource PoppinsRegular}" Text="{Binding AvailableQuantity, Mode=TwoWay, UpdateSourceTrigger=PropertyChanged}"></Run>
                        <Run FontSize="14"  Style="{DynamicResource PoppinsRegular}" Text="Available"></Run>
                        <Run Text=")"></Run>
                    </TextBlock>
                </StackPanel>


                <StackPanel Grid.Column="1" HorizontalAlignment="Left" VerticalAlignment="Center">
                    <StackPanel>
                        <TextBlock Text="Sub Category" Style="{StaticResource txtheaderblockstyle}"></TextBlock>
                        <TextBlock  Style="{StaticResource txtblockstyle}"
                                    AutomationProperties.AutomationId="txtCategoryId"
                                  Text="{Binding ProductType.Name}" />
                    </StackPanel>
                   
                </StackPanel>
                
                <StackPanel Grid.Column="2" HorizontalAlignment="Left" VerticalAlignment="Center">
                    <TextBlock Text="Brand" Style="{StaticResource txtheaderblockstyle}"/>
                    <TextBlock Text="{Binding Manufacturer.Name}" 
                               AutomationProperties.AutomationId="txtBrandId"
                               Style="{StaticResource txtblockstyle}"/>
                </StackPanel>

                <StackPanel Grid.Column="3" HorizontalAlignment="Left" VerticalAlignment="Center">
                    <TextBlock Text="Product Name" Style="{StaticResource txtheaderblockstyle}"/>
                    <TextBlock Style="{StaticResource txtblockstyle}"
                               AutomationProperties.AutomationId="txtProductNameId"
                                            Text="{Binding ProductName}" />
                </StackPanel>
                <StackPanel Grid.Column="4" Grid.Row="0" HorizontalAlignment="Left" VerticalAlignment="Center">

                    <TextBox
                                            Width="100" MaxLength="4"
                                            materialDesign:HintAssist.Hint="Quantity"
                                            materialDesign:HintAssist.IsFloating="True"
                                            IsEnabled="{Binding IsSellingQty,Mode=TwoWay,UpdateSourceTrigger=PropertyChanged}"
                        AutomationProperties.AutomationId="txtSellingQtyId"
                                            Text="{Binding SellingQty, Mode=TwoWay, UpdateSourceTrigger=LostFocus}">
                        <i:Interaction.Behaviors>
                            <behavior:TextBoxInputRegExBehaviour EmptyValue="0" RegularExpression="^[0-9]*$" />
                        </i:Interaction.Behaviors>
                    </TextBox>
                </StackPanel>
                <!--//second row-->
                <StackPanel Grid.Row="1" Grid.Column="0" Margin="20 0 0 0">
                    <TextBlock Style="{StaticResource txtheaderblockstyle}" Text="Expiry"/>
                    <TextBlock Style="{StaticResource txtblockstyle}"
                               AutomationProperties.AutomationId="txtExpiryId"
                                            Text="{Binding WarrentyDate, Converter={StaticResource shortdateconverter}}" />
                </StackPanel>

                <StackPanel Grid.Row="1"  Grid.Column="1" HorizontalAlignment="Left" VerticalAlignment="Center">
                    <TextBlock Style="{StaticResource txtheaderblockstyle}" Text="Discount(Flat)/Qty"></TextBlock>
                    <!--<TextBlock  Style="{StaticResource txtblockstyle}" 
                                AutomationProperties.AutomationId="txtDiscuntFlatId"
                                Text="{Binding ProductDiscountFlat, Mode=TwoWay, UpdateSourceTrigger=PropertyChanged}" />-->
                    <TextBox Text="{Binding ProductManualDiscount,Mode=TwoWay}">
                        <i:Interaction.Behaviors>
                            <behavior:TextBoxInputRegExBehaviour EmptyValue="0" RegularExpression="^[0-9.\-]+$" />
                        </i:Interaction.Behaviors>
                    </TextBox>
                    
                </StackPanel>
                <StackPanel Grid.Row="1" Grid.Column="2" HorizontalAlignment="Left" VerticalAlignment="Center">
                    <TextBlock Style="{StaticResource txtheaderblockstyle}" Text="GST%"/>
                    <TextBlock Style="{StaticResource txtblockstyle}"  
                               AutomationProperties.AutomationId="txtGSTId"
                               Text="{Binding ProductGST, Mode=TwoWay, UpdateSourceTrigger=PropertyChanged}" />
                </StackPanel>

                <StackPanel Grid.Row="1" Grid.Column="3" HorizontalAlignment="Left" VerticalAlignment="Center">
                    <TextBlock  Style="{StaticResource txtheaderblockstyle}" Text="Selling price"></TextBlock>
                    <TextBlock  Style="{StaticResource txtblockstyle}" 
                                AutomationProperties.AutomationId="txtSellingPriceId"
                                Text="{Binding ProductSellingPrice, Mode=TwoWay, UpdateSourceTrigger=PropertyChanged}"></TextBlock>

                    <!--<TextBlock  Visibility="{Binding Path=ProductManualDiscount,Converter={StaticResource NotZeroToVisibilityConverter}}" 
                                FontSize="14" TextDecorations="Strikethrough" 
                                Foreground="Red"  
                                Text="{Binding AcutalSellingPrice, Mode=TwoWay, UpdateSourceTrigger=PropertyChanged}"></TextBlock>-->


                </StackPanel>



                <StackPanel  Grid.Row="1" 
                             Grid.Column="4" 
                             HorizontalAlignment="Left" VerticalAlignment="Center"
                              Visibility="{Binding IsServiceChargeApplicable, Converter={StaticResource BooleanToVisibilityConverter}}"
                             >
                   
                   
                    <TextBox
                                                Width="100"
                        AutomationProperties.AutomationId="txtServiceChargeId"
                                                materialDesign:HintAssist.Hint="Service Charge"
                                                materialDesign:HintAssist.IsFloating="True"
                                                 MaxLength="6"
                                                Text="{Binding ServiceChargeAmount, Mode=TwoWay}">
                        <i:Interaction.Behaviors>
                            <behavior:TextBoxInputRegExBehaviour EmptyValue="0" RegularExpression="^[0-9.\-]+$" />
                        </i:Interaction.Behaviors>
                       
                    </TextBox>
                    
                </StackPanel>
                <!--<StackPanel VerticalAlignment="Center" Orientation="Vertical" Grid.Column="5" Grid.Row="1" >
                    <TextBlock  FontWeight="UltraBold" Margin="0 15 0 0" Text="{Binding Path=CardProductTotal,Mode=TwoWay,UpdateSourceTrigger=PropertyChanged}" FontSize="16" Foreground="{DynamicResource MahApps.Brushes.Accent}" Style="{StaticResource MaterialDesignSubtitle2TextBlock}"></TextBlock>

                    <TextBlock Foreground="{DynamicResource MahApps.Brushes.Accent}" Visibility="{Binding IsServiceChargeApplicable, Converter={StaticResource BooleanToVisibilityConverter}}">
                        <Run Text="+"></Run>
                        <Run Text="{Binding Path=CardServiceChargesTotal,Mode=TwoWay,UpdateSourceTrigger=PropertyChanged}"></Run>
                    </TextBlock>
                </StackPanel>-->
                <Button Grid.Column="5" Grid.Row="0" VerticalAlignment="Top" Margin="0,0,0,0"
                                        Command="{Binding DataContext.RemoveProductCommand, RelativeSource={RelativeSource Mode=FindAncestor, AncestorType={x:Type local:SalesView}}}"
                                        CommandParameter="{Binding}">
                    <Button.Template>
                        <ControlTemplate>
                            <materialDesign:PackIcon Style="{StaticResource IconMargin}" Foreground="#FFFFFF"  Background="#9B9B9A " Kind="Multiply" ToolTip="Remove" />
                        </ControlTemplate>
                    </Button.Template>
                </Button>
            </Grid>
        </DataTemplate>

        
    </UserControl.Resources>
    <Grid IsEnabled="{Binding IsDenominationSuccess,Mode=TwoWay,UpdateSourceTrigger=PropertyChanged}">
        <Grid.ColumnDefinitions>
            <ColumnDefinition/>
        </Grid.ColumnDefinitions>
        <Grid.RowDefinitions>
            <RowDefinition Height="40"/>
            <RowDefinition Height="50"/>
            <RowDefinition Height="140"/>
            <RowDefinition Height="60"/>
            <RowDefinition/>
        </Grid.RowDefinitions>
        <Grid Grid.Row="0" Grid.Column="0">
            <Grid.ColumnDefinitions>
                <ColumnDefinition Width="8*"/>
                <ColumnDefinition Width="4*"/>
            </Grid.ColumnDefinitions>
            <Grid.RowDefinitions>
                <RowDefinition Height="40"/>
            </Grid.RowDefinitions>
            <StackPanel Orientation="Horizontal" Grid.Row="0" Grid.Column="0" Margin="0 -60  0 0" HorizontalAlignment="Left">
                <materialDesign:PackIcon Width="22" Height="22" Margin="0 45 0 0"  Kind="Phone"/>
                <TextBox  Margin="5 0 0 0"
                           Width="180"
                           materialDesign:HintAssist.Hint="Phone number"
                           materialDesign:HintAssist.IsFloating="True"
                          AutomationProperties.AutomationId="txtSearchPhoneId"
                          MaxLength="10"
                          VerticalAlignment="Center"
                          Text="{Binding OldCustomerPhone, Mode=TwoWay, UpdateSourceTrigger=PropertyChanged}">
                    <TextBox.InputBindings>
                        <KeyBinding Key="Return" Command="{Binding DataContext.GetCustomerCommand, RelativeSource={RelativeSource Mode=FindAncestor, AncestorType={x:Type local:SalesView}}}" />
                        <KeyBinding Key="Enter" Command="{Binding DataContext.GetCustomerCommand, RelativeSource={RelativeSource Mode=FindAncestor, AncestorType={x:Type local:SalesView}}}" />
                    </TextBox.InputBindings>
                    <i:Interaction.Behaviors>
                        <behavior:TextBoxInputRegExBehaviour EmptyValue="0" RegularExpression="^[0-9]*$" />
                    </i:Interaction.Behaviors>
                    </TextBox>
            </StackPanel>
            <TextBlock  Foreground="Red" FontSize="14" Grid.Column="1" Margin="10 20 0 0" Text="{Binding DenominationErrorMsg,Mode=TwoWay,UpdateSourceTrigger=PropertyChanged}">

            </TextBlock>

        </Grid>
        <Grid Grid.Row="1" Grid.Column="0">
            <Grid.ColumnDefinitions>
                <ColumnDefinition Width="3*"/>
                <ColumnDefinition Width="3*"/>
                <ColumnDefinition Width="3*"/>
                <ColumnDefinition Width="3*"/>
            </Grid.ColumnDefinitions>
            <Grid.RowDefinitions>
                <RowDefinition Height="40"/>
            </Grid.RowDefinitions>
            <StackPanel Orientation="Horizontal" Visibility="{Binding FarmerName,Converter={StaticResource notNullToVisibleConverter}}" HorizontalAlignment="Left" Grid.Row="0" Grid.Column="0">
                <materialDesign:PackIcon Kind="Person"  Style="{StaticResource IconMargin}"/>
                <TextBlock 
                           AutomationProperties.AutomationId="txtCustomerNameId"
                                Text="{Binding FarmerName}"
                                Style="{StaticResource txtblockstyle}"></TextBlock>
           

            </StackPanel>
            <StackPanel Grid.Row="0" Visibility="{Binding FarmerName,Converter={StaticResource notNullToVisibleConverter}}" Grid.Column="1" Orientation="Horizontal" HorizontalAlignment="Left">
                <Border Width="70" 
                       Height="30" 
                        BorderBrush="#333333"  
                        BorderThickness="1" 
                        Background="#333333"
                        CornerRadius="7">
                    <TextBlock  HorizontalAlignment="Center" VerticalAlignment="Center" Foreground="#FFFFFF"   Text="{Binding CustomerType,Mode=TwoWay}" Style="{StaticResource txtblockstyle}"></TextBlock>
                </Border>
                <StackPanel Orientation="Horizontal" Margin="30 0 0 0" VerticalAlignment="Center">
                    <materialDesign:PackIcon Kind="AddressMarker" Style="{StaticResource IconMargin}"/>
                    <TextBlock Text="{Binding CustomerVillage,Mode=TwoWay,UpdateSourceTrigger=PropertyChanged}"  
                           Style="{StaticResource txtblockstyle}"></TextBlock>
                </StackPanel>
               
            </StackPanel>

            <StackPanel Orientation="Horizontal" Grid.Row="0" Grid.Column="2" Visibility="{Binding FarmerName,Converter={StaticResource notNullToVisibleConverter}}" Margin="20 0 0 0" HorizontalAlignment="Center">
                <Button Command="{Binding EditCustomerCommand}"  Style="{StaticResource RoundTextButton}">
                    <Button.Content>
                        <StackPanel Orientation="Horizontal">
                            <!--<materialDesign:PackIcon Kind="Pencil" Width="20" Style="{StaticResource IconMargin}"/>-->
                            <TextBlock Text="Edit" 
                           Style="{StaticResource txtblockstyle}"></TextBlock>
                        </StackPanel>
                    </Button.Content>


                </Button>
            </StackPanel>
            <StackPanel Orientation="Horizontal" Grid.Row="0" Grid.Column="3" HorizontalAlignment="Right">
                <Button Margin="0 0 10 0" Width="45" Height="38" 
                        Style="{DynamicResource RoundButton}"
                         AutomationProperties.AutomationId="btnSalesViewResetSalesId"
                            Command="{Binding ResetSalesCommand}">
                    <Button.Content>
                        <materialDesign:PackIcon Kind="Refresh"/>
                    </Button.Content>
                </Button>
                <Button  Style="{DynamicResource RoundTextButton}" 
                         AutomationProperties.AutomationId="btnSalesViewAddSalesId"
                            Command="{Binding SaveSalesDetailsCommand}" Content="Save"></Button>
            </StackPanel>
        </Grid>
        <Grid Grid.Row="2" Grid.Column="0">
            <Grid.ColumnDefinitions>
                <ColumnDefinition Width="2*"/>
                <ColumnDefinition Width="2*"/>
                <ColumnDefinition Width="2*"/>
                <ColumnDefinition Width="2*"/>
                <ColumnDefinition Width="2*"/>
            </Grid.ColumnDefinitions>
            <Grid.RowDefinitions>
                <RowDefinition Height="60"/>
                <RowDefinition Height="60"/>
            </Grid.RowDefinitions>
            <StackPanel Orientation="Vertical" Grid.Row="0" Grid.Column="0">
                <TextBlock Style="{StaticResource txtheaderblockstyle}" Text="Sale invoice number"></TextBlock>
                <TextBlock Style="{StaticResource txtblockstyle}" 
                           AutomationProperties.AutomationId="txtSalesInvoiceNoId" 
                           Text="{Binding SalesInvoiceNumber}"></TextBlock>
            </StackPanel>
            <StackPanel Orientation="Vertical" Grid.Row="0" Grid.Column="1">
                <TextBlock Style="{StaticResource txtheaderblockstyle}" Text="Date of Invoice"></TextBlock>
                <TextBlock Style="{StaticResource txtblockstyle}"
                            AutomationProperties.AutomationId="txtInvoiceDateId" 
                           Text="{Binding InvoiceDate,Converter={StaticResource shortdateconverter}}"></TextBlock>
            </StackPanel>
            <StackPanel Margin="0 0 0 0" Orientation="Vertical" HorizontalAlignment="Left" Grid.Row="0" Grid.Column="2">
                <TextBlock Style="{StaticResource txtheaderblockstyle}" Text="Net Total"></TextBlock>
                <StackPanel Orientation="Horizontal" HorizontalAlignment="Left">
                    <materialDesign:PackIcon Kind="Rupee" Width="20" Height="20" Margin="-6 3 0 0"/>
                    <TextBlock Style="{StaticResource txtblockstyle}" 
                            AutomationProperties.AutomationId="txtNetTotalId"
                            Text="{Binding NetTotal, Mode=TwoWay, UpdateSourceTrigger=PropertyChanged}"></TextBlock>
                </StackPanel>
            </StackPanel>
               
            <StackPanel HorizontalAlignment="Left" Orientation="Vertical" Grid.Row="0" Grid.Column="3">
                <TextBlock Style="{StaticResource txtheaderblockstyle}" Text="Total GST"></TextBlock>
                <StackPanel Orientation="Horizontal">
                    <materialDesign:PackIcon Kind="Rupee" Width="20" Height="20" Margin="-6 3 0 0"/> 
                    <TextBlock Style="{StaticResource txtblockstyle}"
                           AutomationProperties.AutomationId="txtTotalGstId"
                           Text="{Binding GST, Mode=TwoWay, UpdateSourceTrigger=PropertyChanged}"></TextBlock>
                </StackPanel>
               
            </StackPanel>
            <StackPanel Margin="0 10 0 0" Orientation="Vertical" Grid.Row="1" Grid.Column="0">
                <TextBlock Style="{StaticResource txtheaderblockstyle}" Text="Total Discount"></TextBlock>
                <StackPanel Orientation="Horizontal" HorizontalAlignment="Left">
                    <materialDesign:PackIcon Kind="Rupee" Width="20" Height="20" Margin="-5 3 0 0"/>
                    <TextBlock Style="{StaticResource txtblockstyle}" 
                            AutomationProperties.AutomationId="txtTotalDiscountId"
                            Text="{Binding Discount, Mode=TwoWay, UpdateSourceTrigger=PropertyChanged}"></TextBlock>
                </StackPanel>
                
            </StackPanel>
            <StackPanel Margin="0 10 0 0" Orientation="Vertical" Grid.Row="1" Grid.Column="1">
                <TextBlock Style="{StaticResource txtheaderblockstyle}" Text="Total Service Charge"></TextBlock>
                <StackPanel Orientation="Horizontal" HorizontalAlignment="Left">
                    <materialDesign:PackIcon Kind="Rupee" Width="20" HorizontalAlignment="Left" Height="20" Margin="-5 3 0 0"/>
                    <TextBlock Style="{StaticResource txtblockstyle}" 
                           AutomationProperties.AutomationId="txtTotalServiceId"
                           Text="{Binding TotalServiceCharge, Mode=TwoWay, UpdateSourceTrigger=PropertyChanged}" 
                          ></TextBlock>
                </StackPanel>
               
            </StackPanel>
            <StackPanel Margin="0 0 0 5" Orientation="Horizontal" HorizontalAlignment="Left" Grid.Row="1" Grid.Column="2">
                <materialDesign:PackIcon Kind="Rupee" Width="20" Height="20" Margin="-7 30 0 0"/>
                <TextBox FontWeight="Medium" FontSize="16" FontFamily="{DynamicResource Poppins}" materialDesign:HintAssist.Hint="Cash" 
                         materialDesign:HintAssist.IsFloating="True" 
                         MaxLength="7"
                         Height="50" Width="120" 
                          AutomationProperties.AutomationId="txtCashId"
                         Text="{Binding Cash, Mode=TwoWay,UpdateSourceTrigger=PropertyChanged}">
                    <i:Interaction.Behaviors>
                        <behavior:TextBoxInputRegExBehaviour EmptyValue="0"  RegularExpression="^[0-9.\-]+$" />
                    </i:Interaction.Behaviors>
                  </TextBox>
            </StackPanel>
            <StackPanel Margin="0 0 0 5" Grid.Row="1" Grid.Column="3" Orientation="Horizontal">
                <materialDesign:PackIcon Kind="Rupee" Width="20" Height="20" Margin="-7 30 0 0"/>
                <TextBox FontWeight="Medium" FontSize="16" FontFamily="{DynamicResource Poppins}" materialDesign:HintAssist.Hint="UPI" 
                         materialDesign:HintAssist.IsFloating="True" 
                         Margin="0 0 5 0"                         
                         MaxLength="7"
                         Height="50" Width="65" 
                          AutomationProperties.AutomationId="txtUPIId"
                         Text="{Binding UPI, Mode=TwoWay,UpdateSourceTrigger=PropertyChanged}">
                    <i:Interaction.Behaviors>
                        <behavior:TextBoxInputRegExBehaviour  EmptyValue="0" RegularExpression="^[0-9.\-]+$" />
                    </i:Interaction.Behaviors>
                    </TextBox>
                <TextBox FontWeight="Medium" FontSize="16" FontFamily="{DynamicResource Poppins}" materialDesign:HintAssist.Hint="Reference No." 
                         materialDesign:HintAssist.IsFloating="True" 
                         Height="50" Width="120" 
                          AutomationProperties.AutomationId="txtReferenceId"
                          Text="{Binding UPINumber, Mode=TwoWay, UpdateSourceTrigger=PropertyChanged}"
                        ></TextBox>
            </StackPanel>
            <StackPanel Grid.RowSpan="2" Grid.Column="4" Orientation="Vertical" HorizontalAlignment="Center" VerticalAlignment="Center">
                <TextBlock Foreground="#252572" Margin="10 0 0 10" Text="Pay Net Total" FontSize="15" Style="{DynamicResource PoppinsMedium}" ></TextBlock>
                <StackPanel Orientation="Horizontal" Margin="0 0 0 0">
                    <materialDesign:PackIcon Kind="Rupee" Margin="0 5 0 0 " Foreground="#252572" Height="38" Width="38">
                        
                    </materialDesign:PackIcon>
                    <TextBlock  Foreground="#252572" 
                                 AutomationProperties.AutomationId="txtPayTotalId"
                                Text="{Binding PayableAmount, Mode=TwoWay, UpdateSourceTrigger=PropertyChanged}"
                                FontSize="36" 
                                FontWeight="Bold"></TextBlock> 
                </StackPanel>
               
            </StackPanel>
           
        </Grid>
        <Grid Grid.Row="3" Grid.Column="0">
            <Grid Background="#252572">
                <Grid.ColumnDefinitions>
                    <ColumnDefinition Width="4*"/>
                    <ColumnDefinition Width="8*"/>
                </Grid.ColumnDefinitions>
                <StackPanel Orientation="Horizontal">
                    <materialDesign:PackIcon HorizontalAlignment="Center" 
                                             VerticalAlignment="Center" 
                                             Width="22" 
                                             Height="22" 
                                             Margin="40 0 0 0"
                                             Kind="FormatListNumbers" Foreground="White"/>
                    <TextBlock HorizontalAlignment="Center" 
                               VerticalAlignment="Center" 
                               Foreground="White" 
                               Margin="10 0 0 0"
                               FontSize="15" FontWeight="Medium" 
                               Text="Product Details"/>
                    <Border Margin="10 0 0 0" BorderThickness="1" BorderBrush="#FFFFFF" CornerRadius="6" Width="22" Height="22">
                        <TextBlock HorizontalAlignment="Center" 
                               VerticalAlignment="Center" 
                               Foreground="White" 
                               FontSize="16" FontWeight="Regular" FontFamily="{DynamicResource Poppins}" Text="{Binding ProductCount,Mode=TwoWay}"/>
                    </Border>
                  
                </StackPanel>
                <StackPanel Grid.Row="0" Grid.Column="1" Orientation="Horizontal" VerticalAlignment="Center">
                    <materialDesign:PackIcon Kind="BarcodeScan" 
                                              VerticalAlignment="Center"
                                             Width="23" Height="23" 
                                             Foreground="#FFFFFF"/>
                    <Grid>
                        <TextBox x:Name="searchproducttxt" 
                                 Width="280" 
                                 Height="33" 
                                 AutomationProperties.AutomationId="txtscanorenterbarcode"
                                 Style="{DynamicResource RoundTextBoxSearhProduct}"
                                 Text="{Binding ProductCode,Mode=TwoWay,UpdateSourceTrigger=PropertyChanged}">
                            <TextBox.InputBindings>
                                <KeyBinding Key="Return" Command="{Binding DataContext.GetProductCommand, RelativeSource={RelativeSource Mode=FindAncestor, AncestorType={x:Type local:SalesView}}}" />
                                <KeyBinding Key="Enter" Command="{Binding DataContext.GetProductCommand, RelativeSource={RelativeSource Mode=FindAncestor, AncestorType={x:Type local:SalesView}}}" />
                            </TextBox.InputBindings>
                        </TextBox>
                        <TextBlock IsHitTestVisible="False" 
                       Grid.Column="1" 
                       x:Name="searchproduct"
                       Margin="40 5 0 0"
                       Height="28"
                       FontSize="15Px"
                       FontWeight="Regular"
                       FontFamily="{DynamicResource Poppins}"
                       HorizontalAlignment="Left" 
                       VerticalAlignment="Center" 
                       Text="Scan/Enter Product Code"  
                       Foreground="#FFFFFF">
                            <TextBlock.Style>
                                <Style TargetType="{x:Type TextBlock}">
                                    <Setter Property="Visibility" Value="Collapsed"/>
                                    <Style.Triggers>
                                        <DataTrigger Binding="{Binding Text, ElementName=searchproducttxt}" Value="">
                                            <Setter Property="Visibility" Value="Visible"/>
                                        </DataTrigger>
                                    </Style.Triggers>
                                </Style>
                            </TextBlock.Style>
                        </TextBlock>
                    </Grid>
                   
                    
                
                </StackPanel>
            </Grid>
        </Grid>

        <ItemsControl Grid.Row="4" Grid.Column="0" Style="{StaticResource itemcontrolstyleuploadinvoice}" ItemsSource="{Binding SalesProducts}"  ItemTemplate="{StaticResource SalesProductTemplate }">

            </ItemsControl>
        
    </Grid>
    <!--<Grid IsEnabled="{Binding IsDenominationSuccess,Mode=TwoWay,UpdateSourceTrigger=PropertyChanged}">
        <Grid.ColumnDefinitions>
            <ColumnDefinition Width="2*" />
            <ColumnDefinition Width="4*" />
            <ColumnDefinition Width="3*" />
        </Grid.ColumnDefinitions>
        <Grid.RowDefinitions>
            <RowDefinition Height="50" />
            <RowDefinition />
        </Grid.RowDefinitions>       
            <StackPanel  Grid.Column="0" Grid.ColumnSpan="2" HorizontalAlignment="Left" Orientation="Horizontal">
                <TextBlock Margin="0,17,0,0" FontSize="17" Style="{StaticResource MaterialDesignSubtitle2TextBlock}">New</TextBlock>
                <ToggleButton
                    x:Name="togglefarmer"
                    Margin="5,7,5,0"
                    materialDesign:HintAssist.Hint="Customer"
                    materialDesign:HintAssist.IsFloating="True"
                    AutomationProperties.AutomationId="tglbtnSalesCustomerTypeId"
                    IsChecked="{Binding IsOldCustomer}" />
            <TextBlock Style="{StaticResource MaterialDesignSubtitle2TextBlock}" FontSize="17" Margin="0,17,0,0">Existing (Customer)</TextBlock>
                <StackPanel
                    Margin="30,-25,0,0"
                    Orientation="Horizontal"
                    Visibility="{Binding Path=IsChecked, ElementName=togglefarmer, Converter={StaticResource BooleanToVisibilityConverter}}">
                    <materialDesign:PackIcon
                        Margin="0,40,0,0"
                        Style="{StaticResource IconMargin}"
                        Kind="Phone" />
                    <TextBox
                        Width="180"
                        Height="35"
                        Margin="5,10,0,0" VerticalAlignment="Center"
                        materialDesign:HintAssist.Hint="Phone No"
                        materialDesign:HintAssist.IsFloating="True"
                        AutomationProperties.AutomationId="txtSalesOldCustomerPhoneId"
                        MaxLength="10"
                        Text="{Binding OldCustomerPhone, Mode=TwoWay, UpdateSourceTrigger=PropertyChanged}">
                        <TextBox.InputBindings>
                            <KeyBinding Key="Return" Command="{Binding DataContext.GetCustomerCommand, RelativeSource={RelativeSource Mode=FindAncestor, AncestorType={x:Type local:SalesView}}}" />
                            <KeyBinding Key="Enter" Command="{Binding DataContext.GetCustomerCommand, RelativeSource={RelativeSource Mode=FindAncestor, AncestorType={x:Type local:SalesView}}}" />
                        </TextBox.InputBindings>
                        <i:Interaction.Behaviors>
                            <behavior:TextBoxInputRegExBehaviour EmptyValue="0" RegularExpression="^[0-9]*$" />
                        </i:Interaction.Behaviors>
                    </TextBox>
                </StackPanel>
               
            --><!--<StackPanel  Margin="20 0 0 0" HorizontalAlignment="Left" Orientation="Horizontal" IsEnabled="{Binding IsAppOrderEnable}">
                <TextBlock Margin="0,19,0,0" Style="{StaticResource MaterialDesignSubtitle2TextBlock}">STORE</TextBlock>
                <ToggleButton
                    x:Name="togglefarmerappornormal"
                    Margin="5,7,5,0"
                    materialDesign:HintAssist.Hint="apporder"
                    materialDesign:HintAssist.IsFloating="True"
                    AutomationProperties.AutomationId="tglbtnSalesapporderTypeId"
                     IsChecked="{Binding IsAppOrderCustomer}"
                    Command="{Binding AppOrderCustomerCommand}"/>
                <TextBlock Style="{StaticResource MaterialDesignSubtitle2TextBlock}"  Margin="0,19,0,0">APP ORDER</TextBlock>

            </StackPanel>--><!--
            <StackPanel Margin="10 0 0 0" HorizontalAlignment="Left" Orientation="Horizontal" Visibility="{Binding  IsAppOrderEnable,Converter={StaticResource BooleanToVisibilityConverter}}">
                --><!--<materialDesign:PackIcon Kind="TabletAndroid"  Height="30" Foreground="{DynamicResource MahApps.Brushes.Badged.Background}" Width="20" Margin="3 10 0 0"></materialDesign:PackIcon>--><!--
                <ContentControl prism:RegionManager.RegionName="AppOrderProductList" />
            </StackPanel>
           
            <StackPanel Orientation="Horizontal" Margin="20 0 0 0">
                <RadioButton Margin="10 0 0 0" IsChecked="{Binding SaleFor,Mode=TwoWay,Converter={StaticResource ResourceKey=RadioButtonConverter},ConverterParameter='Store'}" Content="Store"></RadioButton>
                <RadioButton Margin="10 0 0 0" IsChecked="{Binding SaleFor,Mode=TwoWay,Converter={StaticResource ResourceKey=RadioButtonConverter},ConverterParameter='RSP'}" Content="RSP"></RadioButton>
                <RadioButton Margin="10 0 0 0" IsChecked="{Binding SaleFor,Mode=TwoWay,Converter={StaticResource ResourceKey=RadioButtonConverter},ConverterParameter='EPO'}" Content="EPO"></RadioButton>
                <RadioButton Margin="10 0 0 0" IsChecked="{Binding SaleFor,Mode=TwoWay,Converter={StaticResource ResourceKey=RadioButtonConverter},ConverterParameter='B2B'}" Content="B2B"></RadioButton>
            </StackPanel>
            <TextBlock  Foreground="Red" FontSize="16" Margin="20 20 0 0" Text="{Binding DenominationErrorMsg,Mode=TwoWay,UpdateSourceTrigger=PropertyChanged}">

            </TextBlock>
        </StackPanel>
       
        <StackPanel    Grid.Column="2"                     
                        Margin="0,0,0,0"
                        HorizontalAlignment="Right"
                        Orientation="Horizontal">
                <Button
                            Width="120"
                            Margin="0,0,60,0"
                            AutomationProperties.AutomationId="btnSalesViewAddSalesId"
                            Command="{Binding SaveSalesDetatilsCommand}"
                            Content="Save"
                            Style="{StaticResource MaterialDesignRaisedDarkButton}" />
                <Button
                            Width="120"
                            Margin="0,0,10,0"
                            AutomationProperties.AutomationId="btnSalesViewResetSalesId"
                            Command="{Binding ResetSalesCommand}"
                            Content="Reset"
                            Style="{StaticResource MaterialDesignOutlinedButton}" />
      
        </StackPanel>      
        <Grid
            Grid.Row="1"
            Grid.Column="0"           
            Margin="5"
            >
            <Grid.Resources>
                <Style TargetType="{x:Type StackPanel}">
                    <Setter Property="Margin" Value="0 15 0 0"></Setter>                    
                </Style>
                
            </Grid.Resources>
            <Grid.RowDefinitions>
                <RowDefinition></RowDefinition>
                <RowDefinition></RowDefinition>
                <RowDefinition></RowDefinition>
                <RowDefinition></RowDefinition>
                <RowDefinition></RowDefinition>
                <RowDefinition></RowDefinition>
                <RowDefinition></RowDefinition>
                <RowDefinition></RowDefinition>
                <RowDefinition></RowDefinition>
                <RowDefinition></RowDefinition>
                <RowDefinition></RowDefinition>
                <RowDefinition></RowDefinition>
                <RowDefinition></RowDefinition>
            </Grid.RowDefinitions>
            <StackPanel Grid.Row="0" Orientation="Horizontal">
                <materialDesign:PackIcon                               
                                Kind="Numbers"
                                Style="{StaticResource IconMargin}" />
                <TextBox
                                x:Name="salesNumber"
                                Width="180"
                                Margin="5,0,0,7"
                                materialDesign:HintAssist.Hint="Sales Invoice Number"
                                materialDesign:HintAssist.IsFloating="True"
                                AutomationProperties.AutomationId="txtSalesViewInvoiceNumberId"
                                IsReadOnly="True"
                                IsEnabled="False"
                                Text="{Binding SalesInvoiceNumber}" />
            </StackPanel>
            <StackPanel Grid.Row="1" Orientation="Horizontal">
                <materialDesign:PackIcon                               
                                Kind="Calendar"
                                Style="{StaticResource IconMargin}" />
                <DatePicker
                                Width="180"
                                Margin="5,5,0,7"
                                materialDesign:HintAssist.Hint="Invoice Date"
                                materialDesign:HintAssist.IsFloating="True"
                                AutomationProperties.AutomationId="dpSalesViewInvoiceDateId"
                                IsEnabled="False"
                                SelectedDate="{Binding InvoiceDate}"
                                Style="{StaticResource MaterialDesignFloatingHintDatePicker}" />
            </StackPanel>
            <TextBlock Margin="0 20 0 0" Grid.Row="3" Style="{StaticResource MaterialDesignSubtitle2TextBlock}">
              <Run  Text="CUSTOMER DETAILS" />
            </TextBlock>
            <StackPanel Grid.Row="4"  Orientation="Horizontal">
                <materialDesign:PackIcon                              
                                Kind="Person"
                                Style="{StaticResource IconMargin}" />
                <TextBox
                                x:Name="txtfarmerName"
                                Width="180"
                                materialDesign:HintAssist.Hint="Customer Name *"
                                materialDesign:HintAssist.IsFloating="True"
                                AutomationProperties.AutomationId="txtSalesViewCustomerNameId"
                                Text="{Binding FarmerName}" >
                    <i:Interaction.Behaviors>
                        <behavior:TextBoxInputRegExBehaviour   RegularExpression="[a-zA-Z_]" />
                    </i:Interaction.Behaviors>
                </TextBox>
            </StackPanel>
            <StackPanel  Grid.Row="5" Orientation="Horizontal">
                <materialDesign:PackIcon                                
                                Kind="Phone"
                                Style="{StaticResource IconMargin}" />
                <TextBox
                                x:Name="txtphone"
                                Width="180"
                                materialDesign:HintAssist.Hint="Phone No *"
                                materialDesign:HintAssist.IsFloating="True"
                                AutomationProperties.AutomationId="txtSalesViewCustomerPhoneId"
                                MaxLength="10"
                                Text="{Binding FarmerPhone, Mode=TwoWay, UpdateSourceTrigger=PropertyChanged}">
                    <i:Interaction.Behaviors>
                        <behavior:TextBoxInputRegExBehaviour RegularExpression="^[0-9]*$" />
                    </i:Interaction.Behaviors>
                </TextBox>
            </StackPanel>
            <StackPanel  Grid.Row="6" Orientation="Horizontal" Visibility="Collapsed">
                <materialDesign:PackIcon                                
                                Kind="PhoneClassic"
                                Style="{StaticResource IconMargin}" />
                <TextBox
                                x:Name="txtaltphone"
                                Width="180"
                                materialDesign:HintAssist.Hint="Alternate Phone No"
                                materialDesign:HintAssist.IsFloating="True"
                                AutomationProperties.AutomationId="txtSalesViewCustomerPhoneId"
                                MaxLength="10"
                                Text="{Binding FarmerPhoneAlternate, Mode=TwoWay, UpdateSourceTrigger=PropertyChanged}">
                    <i:Interaction.Behaviors>
                        <behavior:TextBoxInputRegExBehaviour RegularExpression="^[0-9]*$" />
                    </i:Interaction.Behaviors>
                </TextBox>
            </StackPanel>
            <StackPanel  Grid.Row="7" Orientation="Horizontal">
                <materialDesign:PackIcon                            
                                Kind="City"
                                Style="{StaticResource IconMargin}" />
                <ComboBox
                                x:Name="txtvillage"
                                Width="180"
                                materialDesign:HintAssist.Hint="Village *"
                                materialDesign:HintAssist.IsFloating="True"
                                AutomationProperties.AutomationId="txtSalesViewCustomerCityId"
                                ItemsSource="{Binding Villages,Mode=TwoWay,UpdateSourceTrigger=PropertyChanged}"
                                DisplayMemberPath="Name"
                                SelectedValue="{Binding SelectedVillages, Mode=TwoWay, UpdateSourceTrigger=PropertyChanged}" />
            </StackPanel>
            <StackPanel Grid.Row="8" Orientation="Horizontal">
                <materialDesign:PackIcon
                                Kind="InfoOutline"
                                Style="{StaticResource IconMargin}" />
                <TextBox
                                x:Name="gsttin"
                                Width="180"
                                materialDesign:HintAssist.Hint="GST Number"
                                materialDesign:HintAssist.IsFloating="True"
                                AutomationProperties.AutomationId="txtSalesViewCustomerGSTINId"
                                Text="{Binding GSTNumber, Mode=TwoWay, UpdateSourceTrigger=PropertyChanged}" />
            </StackPanel>
            <StackPanel  Grid.Row="9" Orientation="Horizontal">
                <materialDesign:PackIcon
                                Kind="MapMarker"
                                Style="{StaticResource IconMargin}" />
                <ComboBox
                                Width="180"
                                materialDesign:HintAssist.Hint="State *"
                                materialDesign:HintAssist.IsFloating="True"
                                materialDesign:TextFieldAssist.HasClearButton="True"
                                AutomationProperties.AutomationId="cmbSalesViewStatesId"
                                DisplayMemberPath="Name"
                                ItemsSource="{Binding States}"
                                SelectedValue="{Binding SelectState, Mode=TwoWay, UpdateSourceTrigger=PropertyChanged}">
                    <i:Interaction.Triggers>
                        <i:EventTrigger EventName="SelectionChanged">
                            <prism:InvokeCommandAction Command="{Binding StateSelectionCommand}" />
                        </i:EventTrigger>
                    </i:Interaction.Triggers>
                </ComboBox>
            </StackPanel>
            <StackPanel Grid.Row="10"  Orientation="Horizontal">
                <materialDesign:PackIcon
                                Kind="MapMarker"
                                Style="{StaticResource IconMargin}" />
                <ComboBox
                                Width="180"
                                materialDesign:HintAssist.Hint="District *"
                                materialDesign:HintAssist.IsFloating="True"
                                materialDesign:TextFieldAssist.HasClearButton="True"
                                AutomationProperties.AutomationId="cmbSalesViewDistrictsId"
                                DisplayMemberPath="Name"
                                ItemsSource="{Binding Districts}"
                                SelectedValue="{Binding SelectDistrict, Mode=TwoWay, UpdateSourceTrigger=PropertyChanged}" >
                </ComboBox>
            </StackPanel>
            <StackPanel Grid.Row="11"  Orientation="Horizontal">
                <materialDesign:PackIcon
                                Kind="Numbers"
                                Style="{StaticResource IconMargin}" />
                <TextBox
                                x:Name="txtpincode"
                                Width="180"
                                materialDesign:HintAssist.Hint="Pincode *"
                                materialDesign:HintAssist.IsFloating="True"
                                AutomationProperties.AutomationId="txtSalesViewPincodeId"
                                MaxLength="6"
                                Text="{Binding PinCode}">
                    <i:Interaction.Behaviors>
                        <behavior:TextBoxInputRegExBehaviour EmptyValue="0" RegularExpression="^[0-9]*$" />
                    </i:Interaction.Behaviors>
                </TextBox>
            </StackPanel>

            <StackPanel Grid.Row="12">
                <CheckBox Margin="0 5 0 0"                       
                        Content="Update customer details"
                        IsChecked="{Binding UpdateCustomerAddress}"
                        Style="{StaticResource MaterialDesignCheckBox}"
                        Visibility="{Binding Path=IsChecked, ElementName=togglefarmer, Converter={StaticResource BooleanToVisibilityConverter}}" />
            </StackPanel>

        </Grid>
        <Grid Grid.Column="1" Grid.Row="1" Grid.ColumnSpan="2" >
            <Grid.RowDefinitions>
                <RowDefinition Height="30"></RowDefinition>
                <RowDefinition Height="3*"></RowDefinition>
                <RowDefinition Height="50"></RowDefinition>
                <RowDefinition Height="6*"></RowDefinition>
               
            </Grid.RowDefinitions>
            <TextBlock Margin="0 15 0 0" Grid.Row="0" Style="{StaticResource MaterialDesignSubtitle2TextBlock}">
              <Run  Text="PRICE DETAILS" />
            </TextBlock>
            <Grid  Grid.Row="1">
                <Grid.ColumnDefinitions>
                    <ColumnDefinition></ColumnDefinition>
                    <ColumnDefinition></ColumnDefinition>
                    <ColumnDefinition></ColumnDefinition>
                    <ColumnDefinition></ColumnDefinition>
                    <ColumnDefinition></ColumnDefinition>
                </Grid.ColumnDefinitions>
                <Grid.RowDefinitions>
                    <RowDefinition></RowDefinition>
                    <RowDefinition></RowDefinition>
                    <RowDefinition></RowDefinition>
                </Grid.RowDefinitions>
                <StackPanel  Grid.Column="0" Grid.Row="0" VerticalAlignment="Center" Orientation="Horizontal">
                    <materialDesign:PackIcon Margin="0 5 0 0"                               
                                Kind="Rupee"
                                Style="{StaticResource IconMargin}" />
                    <TextBox VerticalContentAlignment="Center"
                                Width="120" Margin="5 0 0 0"
                                materialDesign:HintAssist.Hint="Net Total"
                                materialDesign:HintAssist.IsFloating="True"
                                AutomationProperties.AutomationId="txtSalesViewNetTotalId"
                                IsReadOnly="True" IsEnabled="false"
                                Text="{Binding NetTotal, Mode=TwoWay, UpdateSourceTrigger=PropertyChanged}" />
                </StackPanel>

                <StackPanel Grid.Column="1" VerticalAlignment="Center" Orientation="Horizontal">
                    <materialDesign:PackIcon Margin="0 5 0 0"                                
                                Kind="Rupee"
                                Style="{StaticResource IconMargin}" />
                    <TextBox VerticalContentAlignment="Center"
                                Width="120" Margin="5 0 0 0"
                                materialDesign:HintAssist.Hint="Total GST"
                                materialDesign:HintAssist.IsFloating="True"
                                AutomationProperties.AutomationId="txtSalesViewTotalGSTId"
                                IsReadOnly="True" IsEnabled="False"
                                Text="{Binding GST, Mode=TwoWay, UpdateSourceTrigger=PropertyChanged}" />
                </StackPanel>
                <StackPanel Grid.Column="2"  VerticalAlignment="Center" Orientation="Horizontal">
                    <materialDesign:PackIcon                                
                                Kind="Rupee"
                                Style="{StaticResource IconMargin}" />
                    <TextBox VerticalContentAlignment="Center"
                                Width="120" Margin="5 0 0 0"
                                materialDesign:HintAssist.Hint="Total Discount"
                                materialDesign:HintAssist.IsFloating="True"
                                AutomationProperties.AutomationId="txtSalesViewDiscountId"
                                IsReadOnly="True" IsEnabled="False"
                                Text="{Binding Discount, Mode=TwoWay, UpdateSourceTrigger=PropertyChanged}" />
                </StackPanel>

                <StackPanel VerticalAlignment="Center"
                           Grid.Column="3" Grid.Row="0"
                            Orientation="Horizontal">
                    --><!--Visibility="{Binding TotalServiceCharge, Converter={StaticResource NotZeroToVisibilityConverter}}"--><!--
                    <materialDesign:PackIcon
                                
                                Kind="Rupee"
                                Style="{StaticResource IconMargin}" />
                    <TextBox VerticalContentAlignment="Center"
                                Width="120"  Margin="0 15 0 0"
                                materialDesign:HintAssist.Hint="Service Charge Total"
                                materialDesign:HintAssist.IsFloating="True"
                                AutomationProperties.AutomationId="txtSalesViewTotalServiceChargeId"
                                IsReadOnly="True" IsEnabled="False"
                                Text="{Binding TotalServiceCharge, Mode=TwoWay, UpdateSourceTrigger=PropertyChanged}" />
                </StackPanel>

                <StackPanel Grid.Column="4" Grid.RowSpan="2" VerticalAlignment="Center" Orientation="Vertical">
                    <TextBlock HorizontalAlignment="Center" FontSize="14" FontWeight="Bold" Text="Total"></TextBlock>
                    <StackPanel Orientation="Horizontal" HorizontalAlignment="Center">
                        <materialDesign:PackIcon
                                Width="35"
                            Height="35"
                                Kind="Rupee"
                                Style="{StaticResource IconMargin}" />
                        <TextBlock
                           Margin="0 15 0 0"
                         HorizontalAlignment="Center"
                            materialDesign:HintAssist.Hint="Payable Amount"
                            Foreground="{DynamicResource MahApps.Brushes.Accent}"
                            materialDesign:HintAssist.IsFloating="True"
                            AutomationProperties.AutomationId="txtSalesViewPaybleAmountId"
                            FontSize="35"    FontWeight="Bold"                    
                            Text="{Binding PayableAmount, Mode=TwoWay, UpdateSourceTrigger=PropertyChanged}"/>
                    </StackPanel>
                    
                    
                </StackPanel>



                <StackPanel Grid.Row="1"  Grid.Column="0" VerticalAlignment="Center" Orientation="Horizontal">
                    <materialDesign:PackIcon
                                
                                Kind="cash"
                                Style="{StaticResource IconMargin}" />
                    <TextBox
                                Width="120" Margin="0 10 0 0" MaxLength="6"
                                materialDesign:HintAssist.Hint="Cash"
                                materialDesign:HintAssist.IsFloating="True"
                                AutomationProperties.AutomationId="txtSalesViewCashId"
                                Text="{Binding Cash, Mode=TwoWay,UpdateSourceTrigger=PropertyChanged}">
                        <i:Interaction.Behaviors>
                            <behavior:TextBoxInputRegExBehaviour EmptyValue="0"  RegularExpression="^[0-9.\-]+$" />
                        </i:Interaction.Behaviors>
                    </TextBox>
                </StackPanel>
                <StackPanel Grid.Row="1"  Grid.Column="1" Visibility="Collapsed"  VerticalAlignment="Center" Orientation="Horizontal">
                    <materialDesign:PackIcon
                                
                                Kind="CardBulleted"
                                Style="{StaticResource IconMargin}" />
                    <TextBox
                                Width="120" Margin="0 10 0 0" MaxLength="6"
                                materialDesign:HintAssist.Hint="Card"
                                materialDesign:HintAssist.IsFloating="True"
                                AutomationProperties.AutomationId="txtSalesViewCardId"
                                Text="{Binding Card, Mode=TwoWay,UpdateSourceTrigger=PropertyChanged}">
                        <i:Interaction.Behaviors>
                            <behavior:TextBoxInputRegExBehaviour EmptyValue="0"  RegularExpression="^[0-9.\-]+$" />
                        </i:Interaction.Behaviors>
                    </TextBox>
                </StackPanel>
                <StackPanel Grid.Row="1"  Grid.Column="1" VerticalAlignment="Center" Orientation="Horizontal">
                    <materialDesign:PackIcon
                                
                                Kind="GooglePlus"
                                Style="{StaticResource IconMargin}" />
                    <TextBox
                                Width="120" Margin="0 10 0 0" MaxLength="6"
                                materialDesign:HintAssist.Hint="UPI"
                                materialDesign:HintAssist.IsFloating="True"
                                AutomationProperties.AutomationId="txtSalesViewUPIId"
                                Text="{Binding UPI, Mode=TwoWay,UpdateSourceTrigger=PropertyChanged}">
                        <i:Interaction.Behaviors>
                            <behavior:TextBoxInputRegExBehaviour  EmptyValue="0" RegularExpression="^[0-9.\-]+$" />
                        </i:Interaction.Behaviors>
                    </TextBox>
                </StackPanel>
                <StackPanel Grid.Row="1" Visibility="Collapsed" Grid.Column="3" VerticalAlignment="Center" Orientation="Horizontal">
                    <materialDesign:PackIcon
                                
                                Kind="Rupee"
                                Style="{StaticResource IconMargin}" />
                    <TextBox
                                Width="120" Margin="0 10 0 0" MaxLength="6"
                                materialDesign:HintAssist.Hint="Cheque"
                                materialDesign:HintAssist.IsFloating="True"
                                AutomationProperties.AutomationId="txtSalesViewChequeId"
                                Text="{Binding Cheque, Mode=TwoWay,UpdateSourceTrigger=PropertyChanged}">
                        <i:Interaction.Behaviors>
                            <behavior:TextBoxInputRegExBehaviour EmptyValue="0"  RegularExpression="^[0-9.\-]+$" />
                        </i:Interaction.Behaviors>
                    </TextBox>
                </StackPanel>




                <StackPanel Grid.Row="2" Grid.Column="1"  Visibility="Collapsed"  VerticalAlignment="Center" Orientation="Horizontal">
                    <materialDesign:PackIcon
                                
                                Kind="Card"
                                Style="{StaticResource IconMargin}" />
                    <TextBox
                                Width="120" Margin="0 10 0 0"
                                materialDesign:HintAssist.Hint="Card Ref Number"
                                materialDesign:HintAssist.IsFloating="True"
                                AutomationProperties.AutomationId="txtSalesViewCardRefNumberId"
                                Text="{Binding CardNumber, Mode=TwoWay, UpdateSourceTrigger=PropertyChanged}" />
                </StackPanel>
                <StackPanel Grid.Row="2" Grid.Column="1" VerticalAlignment="Center" Orientation="Horizontal">
                    <materialDesign:PackIcon
                                
                                Kind="Bank"
                                Style="{StaticResource IconMargin}" />
                    <TextBox
                                Width="120" Margin="0 10 0 0"
                                materialDesign:HintAssist.Hint="UPI Ref Number"
                                materialDesign:HintAssist.IsFloating="True"
                                AutomationProperties.AutomationId="txtSalesViewUPIRefNumberId"
                                Text="{Binding UPINumber, Mode=TwoWay, UpdateSourceTrigger=PropertyChanged}" />
                </StackPanel>

                <StackPanel Grid.Row="2" Grid.Column="3" Visibility="Collapsed" VerticalAlignment="Center" Orientation="Horizontal">
                    <materialDesign:PackIcon
                                
                                Kind="ChequeBook"
                                Style="{StaticResource IconMargin}" />
                    <TextBox
                                Width="120" Margin="0 10 0 0"
                        MaxLength="6"
                                IsEnabled="{Binding IsChecked, ElementName=chkcheque,Converter={StaticResource InverseBooleanConverter} }"
                                materialDesign:HintAssist.Hint="Cheque Number"
                                materialDesign:HintAssist.IsFloating="True"
                                AutomationProperties.AutomationId="txtSalesViewUPIRefNumberId"
                                Text="{Binding ChecqueNumber, Mode=TwoWay, UpdateSourceTrigger=PropertyChanged}" >
                        <i:Interaction.Behaviors>
                            <behavior:TextBoxInputRegExBehaviour EmptyValue="0" RegularExpression="^[0-9.\-]+$" />
                        </i:Interaction.Behaviors>
                    </TextBox>

                </StackPanel>

                <StackPanel Grid.Row="2" Grid.Column="4" Visibility="Collapsed" VerticalAlignment="Bottom" Orientation="Horizontal">
                    <TextBlock Margin="0 15 0 0">(OR)</TextBlock>
                    <CheckBox IsChecked="{Binding ISChequeFuture,Mode=TwoWay,UpdateSourceTrigger=PropertyChanged}" x:Name="chkcheque" Margin="10 15 0 0">Cheque Future Payment</CheckBox>
                </StackPanel>


            </Grid>
            <StackPanel Grid.Row="2" Margin="0 10 0 0" VerticalAlignment="Center" Orientation="Horizontal">
                <TextBlock Margin="0 15 0 0"  Style="{StaticResource MaterialDesignSubtitle2TextBlock}">
              <Run  Text="PRODUCT DETAILS" />
                </TextBlock>
                <materialDesign:PackIcon Margin="50 10 0 0"                           
                            Kind="BarcodeScanner"
                            Style="{StaticResource IconMargin}" />
                <TextBox
                            x:Name="txtProductBarcode"
                            Width="150"
                            Margin="5,0,0,7"
                            materialDesign:HintAssist.Hint="Scan/Enter Product Code"
                            materialDesign:HintAssist.IsFloating="True"
                            AutomationProperties.AutomationId="txtSalesViewProductBarCodeId"
                            Text="{Binding ProductCode, Mode=TwoWay, UpdateSourceTrigger=PropertyChanged}">
                    <TextBox.InputBindings>
                        <KeyBinding Key="Return" Command="{Binding DataContext.GetProductCommand, RelativeSource={RelativeSource Mode=FindAncestor, AncestorType={x:Type local:SalesView}}}" />
                        <KeyBinding Key="Enter" Command="{Binding DataContext.GetProductCommand, RelativeSource={RelativeSource Mode=FindAncestor, AncestorType={x:Type local:SalesView}}}" />
                    </TextBox.InputBindings>
                </TextBox>
                --><!--<Label>OR</Label>
                <TextBox
                            x:Name="txtProductSKU"
                            Width="150"
                            Margin="5,0,0,7"
                            materialDesign:HintAssist.Hint="Enter Product SKU"
                            materialDesign:HintAssist.IsFloating="True"
                            AutomationProperties.AutomationId="txtSalesViewProductSKUId"
                            Text="{Binding ProductSKU, Mode=TwoWay, UpdateSourceTrigger=PropertyChanged}">
                    <TextBox.InputBindings>
                        <KeyBinding Key="Return" Command="{Binding DataContext.GetProductSKUCommand, RelativeSource={RelativeSource Mode=FindAncestor, AncestorType={x:Type local:SalesView}}}" />
                        <KeyBinding Key="Enter" Command="{Binding DataContext.GetProductSKUCommand, RelativeSource={RelativeSource Mode=FindAncestor, AncestorType={x:Type local:SalesView}}}" />
                    </TextBox.InputBindings>
                </TextBox>--><!--
                <TextBlock Margin="50 20 0 0" Style="{StaticResource MaterialDesignOverlineTextBlock}" FontSize="12" Text ="* Selling price are inclusive of discount and GST"></TextBlock>
            </StackPanel>

            <Grid  Grid.Row="3">
                <ItemsControl Style="{StaticResource itemcontrolsalesview}" MaxHeight="{Binding MaxHeight}" ItemsSource="{Binding SalesProducts}"  ItemTemplate="{StaticResource SalesProductTemplate }">
                   
                </ItemsControl>
            </Grid>
        </Grid>
    </Grid>-->
</UserControl>